@page
@model CyberSecurityTraining.Areas.Admin.Pages.DashboardModel
@{
    ViewData["Title"] = "Admin Dashboard";
}

<div class="breadcrumb">
    Dashboard
</div>

<div class="page-title">Admin Dashboard</div>
<div class="page-subtitle">Overview of your platform's key metrics and activities</div>

<div class="stats">
    <div class="stat">
        <div class="stat-number">@Model.TotalUsers</div>
        <div class="stat-label">Total Users</div>
        <div class="stat-change">Active members</div>
    </div>
    <div class="stat">
        <div class="stat-number">@Model.TotalCompanies</div>
        <div class="stat-label">Companies</div>
        <div class="stat-change">Organizations</div>
    </div>
    <div class="stat">
        <div class="stat-number">@Model.TotalModules</div>
        <div class="stat-label">Training Modules</div>
        <div class="stat-change">Available courses</div>
    </div>
    <div class="stat">
        <div class="stat-number">@Model.TotalGroups</div>
        <div class="stat-label">User Groups</div>
        <div class="stat-change">Learning cohorts</div>
    </div>
</div>

<div class="content">
    <div>
        <div class="section-title">Quick Actions</div>
        <div class="module-list">
            <div class="module">
                <div class="module-header">
                    <div>
                        <div class="module-title">Manage Companies</div>
                        <div class="module-meta">Organizations and their settings</div>
                    </div>
                </div>
                <a asp-area="Admin" asp-page="/Companies/Index" class="module-action">
                    <i class="fas fa-building"></i> View Companies
                </a>
            </div>
            
            <div class="module">
                <div class="module-header">
                    <div>
                        <div class="module-title">Manage Users</div>
                        <div class="module-meta">User accounts and permissions</div>
                    </div>
                </div>
                <a asp-area="Admin" asp-page="/Users/Index" class="module-action">
                    <i class="fas fa-users"></i> View Users
                </a>
            </div>
            
            <div class="module">
                <div class="module-header">
                    <div>
                        <div class="module-title">Training Modules</div>
                        <div class="module-meta">Course content and structure</div>
                    </div>
                </div>
                <a asp-area="Admin" asp-page="/Modules/Index" class="module-action">
                    <i class="fas fa-book"></i> View Modules
                </a>
            </div>
            
            <div class="module">
                <div class="module-header">
                    <div>
                        <div class="module-title">User Groups</div>
                        <div class="module-meta">Learning cohorts and assignments</div>
                    </div>
                </div>
                <a asp-area="Admin" asp-page="/Groups/Index" class="module-action">
                    <i class="fas fa-layer-group"></i> View Groups
                </a>
            </div>
        </div>
    </div>
    
    <div class="sidebar">
        <div class="section-title">Recent Activity</div>
        
        <div style="margin-bottom: 3rem;">
            <h4 style="font-size: 18px; font-weight: 400; margin-bottom: 1.5rem;">Recent Companies</h4>
            @if (Model.RecentCompanies.Any())
            {
                <div class="module-list">
                    @foreach (var company in Model.RecentCompanies)
                    {
                        <div class="module">
                            <div class="module-header">
                                <div>
                                    <div class="module-title">@company.Name</div>
                                    <div class="module-meta">Created: @company.DateCreated.ToString("MMM dd, yyyy")</div>
                                </div>
                            </div>
                            <a asp-area="Admin" asp-page="/Companies/Details" asp-route-id="@company.Id" class="module-action">View Details</a>
                        </div>
                    }
                </div>
            }
            else
            {
                <p style="color: var(--text-light); font-size: 14px;">No companies found.</p>
            }
        </div>
        
        <div>
            <h4 style="font-size: 18px; font-weight: 400; margin-bottom: 1.5rem;">Recent Users</h4>
            @if (Model.RecentUsers.Any())
            {
                <div class="module-list">
                    @foreach (var user in Model.RecentUsers)
                    {
                        <div class="module">
                            <div class="module-header">
                                <div>
                                    <div class="module-title">@($"{user.FirstName} {user.LastName}")</div>
                                    <div class="module-meta">@user.Email</div>
                                </div>
                            </div>
                            <a asp-area="Admin" asp-page="/Users/Details" asp-route-id="@user.Id" class="module-action">View Profile</a>
                        </div>
                    }
                </div>
            }
            else
            {
                <p style="color: var(--text-light); font-size: 14px;">No users found.</p>
            }
        </div>
    </div>
</div>
